{"ast":null,"code":"var _jsxFileName = \"/home/addy/Desktop/4th/DASS/ass2/boilerplate/mern-stack-boilerplate/frontend/src/components/addorder.js\";\nimport React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport axios from 'axios';\n\nfunction updateProduct(var1, var2) {\n  console.log(\"function called\");\n  localStorage.setItem('item', var1);\n  localStorage.setItem('vendor', var2);\n  window.location = '/placeorder';\n}\n\nexport default class Orders extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Products: [],\n      Query: [],\n      SearchString: ''\n    };\n    this.onChangeSearch = this.onChangeSearch.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChangeSearch(event) {\n    this.setState({\n      SearchString: event.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    console.log(this.SearchString);\n    this.setState({\n      SearchString: e.target.value\n    });\n    this.state.Query = [];\n    console.log(this.SearchString);\n\n    if (this.state.SearchString.length > 1) {\n      console.log(this.SearchString);\n\n      for (let i = 0; i < this.state.Products.length; i++) {\n        if (this.state.Products[i].Name == this.state.SearchString) {\n          //check if room is already in the result\n          this.state.Query.push(this.state.Products[i]);\n        }\n      }\n\n      console.log(this.Query);\n    } //window.location = '/';\n\n  }\n\n  componentDidMount() {\n    const prod1 = {\n      name: localStorage.getItem('userid')\n    };\n    axios.post('http://localhost:4000/product/showall', prod1).then(response => {\n      this.setState({\n        Products: response.data\n      });\n      this.setState({\n        Query: response.data\n      });\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Name Of Product: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.SearchString,\n      onChange: this.onChangeSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Search\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }))), React.createElement(\"table\", {\n      className: \"table table-striped\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Seller\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Bundle Quantity\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Bundle Cost\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Left\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, this.state.Query.map((currentproduct, i) => {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, currentproduct.Name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, currentproduct.User), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, currentproduct.BundleQuantity), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, currentproduct.BundleCost), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, currentproduct.BundleQuantity - currentproduct.DispatchQuantity), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"danger\",\n        onClick: () => updateProduct(currentproduct.Name, currentproduct.User),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Place Order\")));\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/addy/Desktop/4th/DASS/ass2/boilerplate/mern-stack-boilerplate/frontend/src/components/addorder.js"],"names":["React","Component","Button","axios","updateProduct","var1","var2","console","log","localStorage","setItem","window","location","Orders","constructor","props","state","Products","Query","SearchString","onChangeSearch","bind","onSubmit","event","setState","target","value","e","preventDefault","length","i","Name","push","componentDidMount","prod1","name","getItem","post","then","response","data","catch","error","render","map","currentproduct","User","BundleQuantity","BundleCost","DispatchQuantity"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button } from 'react-bootstrap';\nimport axios from 'axios';\n\n\n\nfunction updateProduct(var1, var2) {\n    console.log(\"function called\")\n    localStorage.setItem('item',var1)\n    localStorage.setItem('vendor',var2)\n    window.location = '/placeorder';\n}\n\n\nexport default class Orders extends Component {\n\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            Products: [],\n            Query: [],\n            SearchString: '',\n        }\n\n        this.onChangeSearch = this.onChangeSearch.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    onChangeSearch(event) {\n        this.setState({ SearchString: event.target.value });\n    }\n\n    onSubmit(e) {\n\n        e.preventDefault();\n\n        console.log(this.SearchString);\n\n        this.setState({ SearchString: e.target.value });\n        this.state.Query = [];\n        console.log(this.SearchString);\n        if (this.state.SearchString.length > 1) {\n            console.log(this.SearchString)\n            for (let i = 0; i < this.state.Products.length; i++) {\n                if (this.state.Products[i].Name == (this.state.SearchString)) {\n                    //check if room is already in the result\n                    this.state.Query.push(this.state.Products[i]);\n                }\n\n            }\n            console.log(this.Query)\n        }\n\n        //window.location = '/';\n    }\n\n\n    componentDidMount() {\n        const prod1 = { name: localStorage.getItem('userid') }\n        axios.post('http://localhost:4000/product/showall', prod1)\n            .then(response => {\n                this.setState({ Products: response.data });\n                this.setState({ Query: response.data });\n                console.log(response)\n            })\n            .catch(function (error) {\n                console.log(error);\n            })\n    }\n\n\n\n    render() {\n\n\n        return (\n            \n            <div>\n                <form onSubmit={this.onSubmit}>\n                <div className=\"form-group\">\n                    <label>Name Of Product: </label>\n                    <input type=\"text\"\n                        className=\"form-control\"\n                        value={this.state.SearchString}\n                        onChange={this.onChangeSearch}\n                    />\n                </div>\n                <div className=\"form-group\">\n                        <input type=\"submit\" value=\"Search\" className=\"btn btn-primary\" />\n                    </div>\n            </form>\n                <table className=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            <th>Name</th>\n                            <th>Seller</th>\n                            <th>Bundle Quantity</th>\n                            <th>Bundle Cost</th>\n                            <th>Left</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            this.state.Query.map((currentproduct, i) => {\n                                return (\n                                    <tr>\n                                        <td>{currentproduct.Name}</td>\n                                        <td>{currentproduct.User}</td>\n                                        <td>{currentproduct.BundleQuantity}</td>\n                                        <td>{currentproduct.BundleCost}</td>\n                                        <td>{currentproduct.BundleQuantity - currentproduct.DispatchQuantity}</td>\n                                        <td><Button variant=\"danger\" onClick={() => updateProduct(currentproduct.Name, currentproduct.User)}>Place Order</Button></td>\n                                    </tr>\n                                )\n                            })\n                        }\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}